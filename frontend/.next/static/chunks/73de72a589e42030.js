(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},61668,54858,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(47167);let s=new class{baseUrl;constructor(e){this.baseUrl=e}async request(e,t={}){let r=localStorage.getItem("token"),s={"Content-Type":"application/json",...t.headers||{}};r&&(s.Authorization=`Bearer ${r}`);let a=await fetch(`${this.baseUrl}${e}`,{...t,headers:s});if(!a.ok)throw Error((await a.json().catch(()=>({message:`HTTP error! status: ${a.status}`}))).message||"An error occurred");return a.json()}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e,t,r,s,a,o){return this.request("/auth/register",{method:"POST",body:JSON.stringify({name:e,email:t,password:r,role:s,country:a,currency:o})})}async getCurrentUser(){return this.request("/auth/me")}async getKPIs(){return this.request("/dashboard/kpis")}async getRevenue(){return this.request("/dashboard/revenue")}async getActivity(){return this.request("/dashboard/activity")}async getTraffic(){return this.request("/dashboard/traffic")}async getUsers(e){let t=new URLSearchParams;e?.search&&t.append("search",e.search),e?.status&&t.append("status",e.status),e?.sortBy&&t.append("sortBy",e.sortBy),e?.sortOrder&&t.append("sortOrder",e.sortOrder),e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString());let r=t.toString();return this.request(`/dashboard/users${r?`?${r}`:""}`)}async getAnalyticsRevenue(e="30d"){return this.request(`/analytics/revenue?period=${e}`)}async getAnalyticsActivity(e="7d"){return this.request(`/analytics/activity?period=${e}`)}async getAnalyticsTraffic(e="30d"){return this.request(`/analytics/traffic?period=${e}`)}async getRevenueBreakdown(){return this.request("/analytics/revenue-breakdown")}async getAllUsers(e){let t=new URLSearchParams;e?.search&&t.append("search",e.search),e?.status&&t.append("status",e.status),e?.sortBy&&t.append("sortBy",e.sortBy),e?.sortOrder&&t.append("sortOrder",e.sortOrder),e?.page&&t.append("page",e.page.toString()),e?.limit&&t.append("limit",e.limit.toString());let r=t.toString();return this.request(`/users${r?`?${r}`:""}`)}async getUser(e){return this.request(`/users/${e}`)}async createUser(e){return this.request("/users",{method:"POST",body:JSON.stringify(e)})}async updateUser(e,t){return this.request(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteUser(e){return this.request(`/users/${e}`,{method:"DELETE"})}async getNotifications(e){let t=void 0!==e?`?read=${e}`:"";return this.request(`/notifications${t}`)}async markNotificationAsRead(e){return this.request(`/notifications/${e}/read`,{method:"PUT"})}async markAllNotificationsAsRead(){return this.request("/notifications/read-all",{method:"PUT"})}async deleteNotification(e){return this.request(`/notifications/${e}`,{method:"DELETE"})}async getReports(){return this.request("/reports")}async getScheduledReports(){return this.request("/reports/scheduled")}async createReport(e){return this.request("/reports",{method:"POST",body:JSON.stringify(e)})}async deleteReport(e){return this.request(`/reports/${e}`,{method:"DELETE"})}async downloadReport(e){let t=localStorage.getItem("token"),r={};t&&(r.Authorization=`Bearer ${t}`);let s=await fetch(`http://localhost:5001/api/reports/${e}/download`,{headers:r});if(!s.ok)throw Error((await s.json().catch(()=>({message:`HTTP error! status: ${s.status}`}))).message||"Failed to download report");return await s.blob()}async getProfile(){return this.request("/profile")}async updateProfile(e){return this.request("/profile",{method:"PUT",body:JSON.stringify(e)})}async getProfileActivity(){return this.request("/profile/activity")}async getSettings(){return this.request("/settings")}async updateSettings(e){return this.request("/settings",{method:"PUT",body:JSON.stringify(e)})}async updatePassword(e,t){return this.request("/settings/password",{method:"PUT",body:JSON.stringify({currentPassword:e,newPassword:t})})}}("http://localhost:5001/api");e.s(["api",0,s],54858);var a=e.i(18566);let o=(0,r.createContext)(void 0);function n({children:e}){let[n,i]=(0,r.useState)(null),[u,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),h=(0,a.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t){l(e);try{i(JSON.parse(t))}catch(e){console.error("Error parsing stored user:",e),localStorage.removeItem("user"),localStorage.removeItem("token")}}e?s.getCurrentUser().then(e=>{i(e),localStorage.setItem("user",JSON.stringify(e))}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),l(null),i(null)}).finally(()=>{d(!1)}):d(!1)},[]);let m=async(e,t)=>{try{let r=await s.login(e,t);l(r.token),i({_id:r._id,name:r.name,email:r.email,role:r.role}),localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify({_id:r._id,name:r.name,email:r.email,role:r.role}));let a=await s.getCurrentUser();i(a),localStorage.setItem("user",JSON.stringify(a))}catch(e){throw Error(e.message||"Login failed")}},f=async(e,t,r,a,o,n)=>{try{let u=await s.register(e,t,r,a,o,n);l(u.token),i({_id:u._id,name:u.name,email:u.email,role:u.role}),localStorage.setItem("token",u.token),localStorage.setItem("user",JSON.stringify({_id:u._id,name:u.name,email:u.email,role:u.role}));let c=await s.getCurrentUser();i(c),localStorage.setItem("user",JSON.stringify(c))}catch(e){throw Error(e.message||"Registration failed")}};return(0,t.jsx)(o.Provider,{value:{user:n,token:u,loading:c,login:m,register:f,logout:()=>{l(null),i(null),localStorage.removeItem("token"),localStorage.removeItem("user"),h.push("/login")},isAuthenticated:!!u&&!!n},children:e})}function i(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>n,"useAuth",()=>i],61668)},70514,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let s=(0,r.createContext)(void 0);function a({children:e}){let[a,o]=(0,r.useState)("dark");return(0,r.useEffect)(()=>{let e=localStorage.getItem("theme");e&&o(e)},[]),(0,r.useEffect)(()=>{let e=document.documentElement;e.classList.remove("light","dark"),"light"===a&&e.classList.add("light"),localStorage.setItem("theme",a)},[a]),(0,t.jsx)(s.Provider,{value:{theme:a,setTheme:o,toggleTheme:()=>{o("dark"===a?"light":"dark")}},children:e})}function o(){let e=(0,r.useContext)(s);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}e.s(["ThemeProvider",()=>a,"useTheme",()=>o])},62701,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let s={USD:{symbol:"$",rateToUSD:1},EUR:{symbol:"€",rateToUSD:1.08},GBP:{symbol:"£",rateToUSD:1.27},JPY:{symbol:"¥",rateToUSD:.0064},CAD:{symbol:"C$",rateToUSD:.73},AUD:{symbol:"A$",rateToUSD:.67},CHF:{symbol:"CHF",rateToUSD:1.12},CNY:{symbol:"¥",rateToUSD:.14},INR:{symbol:"₹",rateToUSD:.012},BRL:{symbol:"R$",rateToUSD:.19},MXN:{symbol:"$",rateToUSD:.057},ZAR:{symbol:"R",rateToUSD:.055}},a=(0,r.createContext)(void 0),o="dashboard_currency";function n({children:e}){let[n,i]=(0,r.useState)("USD");(0,r.useEffect)(()=>{let e=window.localStorage.getItem(o);e&&s[e]&&i(e)},[]);let u=e=>{i(e),window.localStorage.setItem(o,e)},l=(0,r.useMemo)(()=>{let e=s[n]??s.USD,t=(t,r="USD")=>t*(s[r]??s.USD).rateToUSD/e.rateToUSD;return{currency:n,symbol:e.symbol,format:(e,r)=>{let a=new Intl.NumberFormat(void 0,{style:"currency",currency:n in s?n:"USD",maximumFractionDigits:2,...r}),o=t(e);return a.format(o)},convert:t,setCurrency:u}},[n]);return(0,t.jsx)(a.Provider,{value:l,children:e})}function i(){let e=(0,r.useContext)(a);if(!e)throw Error("useCurrency must be used within a CurrencyProvider");return e}e.s(["CurrencyProvider",()=>n,"useCurrency",()=>i])},2355,e=>{"use strict";var t=e.i(47167),r=e.i(71645),s=e.i(18566);function a(){return"undefined"!=typeof window}function o(){return"production"}function n(){return"development"===((a()?window.vam:o())||"production")}function i(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function u(e){return(0,r.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),(0,r.useEffect)(()=>{!function(e={debug:!0}){var t;if(!a())return;!function(e="auto"){if("auto"===e){window.vam=o();return}window.vam=e}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let r=e.scriptSrc?e.scriptSrc:n()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return;let s=document.createElement("script");s.src=r,s.defer=!0,s.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),s.dataset.sdkv="1.5.0",e.disableAutoTrack&&(s.dataset.disableAutoTrack="1"),e.endpoint?s.dataset.endpoint=e.endpoint:e.basePath&&(s.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(s.dataset.dsn=e.dsn),s.onerror=()=>{let e=n()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${e}`)},n()&&!1===e.debug&&(s.dataset.debug="false"),document.head.appendChild(s)}({framework:e.framework||"react",basePath:e.basePath??function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,r.useEffect)(()=>{e.route&&e.path&&function({route:e,path:t}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}function l(e){let a,o,n,{route:l,path:c}=(a=(0,s.useParams)(),o=(0,s.useSearchParams)(),n=(0,s.usePathname)(),a?{route:function(e,t){if(!e||!t)return e;let r=e;try{let e=Object.entries(t);for(let[t,s]of e)if(!Array.isArray(s)){let e=i(s);e.test(r)&&(r=r.replace(e,`/[${t}]`))}for(let[t,s]of e)if(Array.isArray(s)){let e=i(s.join("/"));e.test(r)&&(r=r.replace(e,`/[...${t}]`))}return r}catch(t){return e}}(n,Object.keys(a).length?a:Object.fromEntries(o.entries())),path:n}:{route:null,path:n});return r.default.createElement(u,{path:c,route:l,...e,basePath:function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}(),framework:"next"})}function c(e){return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(l,{...e}))}e.s(["Analytics",()=>c])},28739,e=>{"use strict";var t=e.i(43476),r=e.i(70514),s=e.i(61668),a=e.i(62701);function o({children:e}){return(0,t.jsx)(s.AuthProvider,{children:(0,t.jsx)(r.ThemeProvider,{children:(0,t.jsx)(a.CurrencyProvider,{children:e})})})}e.s(["Providers",()=>o])}]);